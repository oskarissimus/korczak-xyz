---
import Layout from '../../layouts/Layout.astro';
import Pipes from '../../components/Pipes/Pipes';
import { useTranslations } from '../../i18n';

const lang = 'en';
const t = useTranslations(lang);
---

<Layout title={`${t('pipes.title')} | korczak.xyz`} lang={lang}>
  <div class="window pipes-window">
    <div class="title-bar">
      <span>{t('pipes.title')}</span>
      <div class="title-buttons">
        <div class="title-btn minimize-btn"></div>
        <div class="title-btn maximize-btn"></div>
        <div class="title-btn close-btn"></div>
      </div>
    </div>
    <div class="window-content pipes-content">
      <Pipes client:only="react" lang={lang} />
    </div>
  </div>
</Layout>

<style>
  .pipes-window {
    margin-bottom: 20px;
  }

  .pipes-content {
    padding: 0;
    background: #000;
    min-height: 500px;
  }

  :global(.pipes-container) {
    position: relative;
    width: 100%;
    height: 500px;
  }

  :global(.pipes-container:fullscreen) {
    height: 100vh;
  }

  :global(.pipes-canvas) {
    display: block;
    width: 100%;
    height: 100%;
  }

  :global(.pipes-controls) {
    position: absolute;
    bottom: 10px;
    left: 10px;
    display: flex;
    gap: 5px;
    z-index: 10;
  }

  :global(.pipes-btn) {
    padding: 4px 12px;
    font-size: 12px;
    opacity: 0.8;
    transition: opacity 0.2s;
  }

  :global(.pipes-btn:hover) {
    opacity: 1;
  }

  :global(.pipes-container:fullscreen .pipes-controls) {
    bottom: 20px;
    left: 20px;
  }
</style>
